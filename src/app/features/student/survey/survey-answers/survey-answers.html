<div class="space-y-6">

  <!-- Header -->
  <div class="space-y-1">
    <h1 class="text-3xl font-semibold text-gray-900">
      Answered Surveys
    </h1>
    <p class="text-gray-500">
      Review the surveys you have already submitted.
    </p>
  </div>

  <!-- Loading -->
  @if (loading) {
    <div class="space-y-4">
      <p-skeleton height="5rem"></p-skeleton>
      <p-skeleton height="5rem"></p-skeleton>
    </div>
  }

  <!-- Empty State -->
  @if (!loading && responses.length === 0) {
    <p-card class="empty-card">
      <div class="text-center space-y-2">
        <h3 class="text-lg font-medium text-gray-800">
          No submissions yet
        </h3>
        <p class="text-gray-500">
          Once you complete a survey, it will appear here.
        </p>
      </div>
    </p-card>
  }

  <!-- Responses -->
  @if (!loading && responses.length > 0) {

    <p-accordion [multiple]="true">

      @for (response of responses; track response.id) {

        <p-accordion-panel [value]="response.id">

          <p-accordion-header>
            <div class="flex justify-between items-center w-full">
              <div class="space-y-0.5">
                <span class="font-bold text-2xl py-4 text-gray-700">
                  {{ response.surveyLabel }}
                </span>
                <div class="text-xs text-gray-500">
                  Submitted on {{ formatDate(response.submittedAt) }}
                </div>
              </div>

              <span class="mx-4">
                <p-tag severity="success" value="Submitted"></p-tag>
              </span>
            </div>
          </p-accordion-header>

          <p-accordion-content>

            <div class="space-y-6 py-4">

              @for (answer of response.answers; track $index) {

                <div class="question-block">
                  <div class="question-label">
                    {{ answer.questionLabel }}
                  </div>

                  <div class="answer-box">
                    {{ answer.value }}
                  </div>
                </div>

              }

            </div>

          </p-accordion-content>

        </p-accordion-panel>

      }

    </p-accordion>
  }

</div>
